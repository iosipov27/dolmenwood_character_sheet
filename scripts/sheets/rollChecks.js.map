{"version":3,"file":"rollChecks.js","sourceRoot":"","sources":["../../src/sheets/rollChecks.ts"],"names":[],"mappings":"AAAA,MAAM,OAAO,UAAU;IACnB,MAAM,CAAC,KAAK,CAAC,eAAe,CACxB,KAAY,EACZ,KAAa,EACb,MAAc;QAEd,MAAM,CAAC,GAAG,MAAM,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;QAC9B,MAAM,IAAI,GAAG,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC/C,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,IAAI,CAAC,CAAC;QAEhC,MAAM,MAAM,GACR,+BAA+B,KAAK,SAAS;YAC7C,gBAAgB,CAAC,SAAS;YAC1B,mBAAmB,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,KAAK,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,SAAS,CAAC;QAE9F,MAAM,IAAI,CAAC,SAAS,CAAC;YACjB,OAAO,EAAE,WAAW,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,CAAC;YAC1C,MAAM;SACT,CAAC,CAAC;QAEH,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;IACxC,CAAC;IAED,MAAM,CAAC,KAAK,CAAC,gBAAgB,CACzB,KAAY,EACZ,YAAoB,EACpB,YAAoB;QAEpB,MAAM,MAAM,GAAG,MAAM,CAAC,YAAY,IAAI,CAAC,CAAC,CAAC;QACzC,MAAM,IAAI,GAAG,MAAM,IAAI,IAAI,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC;QAC/C,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,IAAI,MAAM,CAAC;QAErC,MAAM,MAAM,GACR,wCAAwC,YAAY,SAAS;YAC7D,cAAc,IAAI,CAAC,KAAK,cAAc,MAAM,SAAS;YACrD,mBAAmB,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,KAAK,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,MAAM,SAAS,CAAC;QAE9F,MAAM,IAAI,CAAC,SAAS,CAAC;YACjB,OAAO,EAAE,WAAW,CAAC,UAAU,CAAC,EAAE,KAAK,EAAE,CAAC;YAC1C,MAAM;SACT,CAAC,CAAC;QAEH,OAAO,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC;IACrC,CAAC;CACJ","sourcesContent":["export class RollChecks {\n    static async rollTargetCheck(\n        actor: Actor,\n        label: string,\n        target: number\n    ): Promise<{ roll: Roll; success: boolean; target: number }> {\n        const t = Number(target ?? 0);\n        const roll = await new Roll(\"1d20\").evaluate();\n        const success = roll.total >= t;\n\n        const flavor =\n            `<span class=\"dw-roll-title\">${label}</span>` +\n            ` - target <b>${t}</b> - ` +\n            `<span class=\"dw-${success ? \"success\" : \"fail\"}\">${success ? \"SUCCESS\" : \"FAIL\"}</span>`;\n\n        await roll.toMessage({\n            speaker: ChatMessage.getSpeaker({ actor }),\n            flavor\n        });\n\n        return { roll, success, target: t };\n    }\n\n    static async rollAbilityCheck(\n        actor: Actor,\n        abilityLabel: string,\n        abilityValue: number\n    ): Promise<{ roll: Roll; success: boolean; target: number }> {\n        const target = Number(abilityValue ?? 0);\n        const roll = await new Roll(\"1d20\").evaluate();\n        const success = roll.total <= target;\n\n        const flavor =\n            `<span class=\"dw-roll-title\">Ability: ${abilityLabel}</span>` +\n            ` - roll <b>${roll.total}</b> <= <b>${target}</b> - ` +\n            `<span class=\"dw-${success ? \"success\" : \"fail\"}\">${success ? \"SUCCESS\" : \"FAIL\"}</span>`;\n\n        await roll.toMessage({\n            speaker: ChatMessage.getSpeaker({ actor }),\n            flavor\n        });\n\n        return { roll, success, target };\n    }\n}\n"]}