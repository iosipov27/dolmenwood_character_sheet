{"version":3,"file":"types.js","sourceRoot":"","sources":["../src/types.ts"],"names":[],"mappings":"","sourcesContent":["export interface DwSaves {\r\n  doom: number;\r\n  hold: number;\r\n  spell: number;\r\n  ray: number;\r\n  blast: number;\r\n  magic: number;\r\n}\r\n\r\nexport interface DwSkills {\r\n  listen: number;\r\n  search: number;\r\n  survival: number;\r\n}\r\n\r\nexport interface DwExtraSkill {\r\n  name: string;\r\n  target: number;\r\n}\r\n\r\nexport interface DwMovement {\r\n  speed: number;\r\n  exploring: number;\r\n  overland: number;\r\n}\r\n\r\nexport interface DwCombat {\r\n  attack: number;\r\n}\r\n\r\nexport interface DwMeta {\r\n  kindredClass: string;\r\n  kindredClassTraits: string;\r\n  background: string;\r\n  alignment: string;\r\n  affiliation: string;\r\n  moonSign: string;\r\n  languages: string;\r\n}\r\n\r\nexport interface DwFlags {\r\n  saves: DwSaves;\r\n  skills: DwSkills;\r\n  extraSkills: DwExtraSkill[];\r\n  movement: DwMovement;\r\n  combat: DwCombat;\r\n  meta: DwMeta;\r\n}\r\n\r\nexport type DwFlagsInput = Partial<DwFlags> & Record<string, unknown>;\r\n\r\nexport interface DwAbilityView {\r\n  key: string;\r\n  label: string;\r\n  value: number;\r\n  name: string;\r\n  hasPath: boolean;\r\n  mod: number;\r\n  hasMod: boolean;\r\n  modText: string;\r\n}\r\n\r\nexport interface DwCombatView {\r\n  ac: number | null;\r\n  attack: number | null;\r\n  nameAc: string;\r\n  nameAttack: string;\r\n  hasAc: boolean;\r\n  hasAttack: boolean;\r\n}\r\n\r\nexport interface DwHpView {\r\n  current: number | null;\r\n  max: number | null;\r\n  nameCurrent: string;\r\n  nameMax: string;\r\n  hasCurrent: boolean;\r\n  hasMax: boolean;\r\n}\r\n\r\nexport type HtmlRoot = JQuery<HTMLElement>;\r\n\r\nexport type ActionEvent<T extends HTMLElement = HTMLElement> = Event & {\r\n  currentTarget: T;\r\n  preventDefault(): void;\r\n};\r\n\r\nexport type ActionHandler<T extends HTMLElement = HTMLElement> = (\r\n  event: ActionEvent<T>\r\n) => void | Promise<void>;\r\n\r\nexport type ActorSheetConstructor = typeof ActorSheet;\r\n\r\nexport interface SheetClassConfigLike {\r\n  label?: string;\r\n  cls?: ActorSheetConstructor;\r\n  id?: string;\r\n  namespace?: string;\r\n}\r\n\r\nexport type JQueryWithOn<T extends HTMLElement = HTMLElement> = JQuery<T> & {\r\n  on(event: string, handler: (ev: ActionEvent<T>) => void): JQuery<T>;\r\n};\r\n\r\nexport type RollTargetCheck = (\r\n  actor: Actor,\r\n  label: string,\r\n  target: number\r\n) => Promise<{ roll: Roll; success: boolean; target: number }>;\r\n\r\nexport type RollAbilityCheck = (\r\n  actor: Actor,\r\n  abilityLabel: string,\r\n  abilityValue: number\r\n) => Promise<{ roll: Roll; success: boolean; target: number }>;\r\n\r\nexport type GetDwFlags = () => DwFlags;\r\nexport type SetDwFlags = (dw: DwFlags) => Promise<void> | void;\r\nexport type RenderSheet = () => void;\r\n\r\nexport type DwSkillEntry =\r\n  | { kind: \"fixed\"; key: string; label: string; value: number }\r\n  | { kind: \"extra\"; index: number; name: string; target: number };\r\n\r\nexport interface DwSaveEntry {\r\n  key: string;\r\n  label: string;\r\n  rollable: boolean;\r\n  value: number;\r\n}\r\n\r\nexport type BaseSheetData = ReturnType<ActorSheet[\"getData\"]>;\r\n\r\nexport type DwSheetData = BaseSheetData & {\r\n  system: Record<string, unknown>;\r\n  dw: DwFlags;\r\n  dwSkillsList: DwSkillEntry[];\r\n  dwUi: {\r\n    saveTooltips: Record<string, string>;\r\n    skillTooltips: Record<string, string>;\r\n    prettyKey: (key: string) => string;\r\n  };\r\n  dwAbilities: DwAbilityView[];\r\n  dwCombat: DwCombatView;\r\n  dwHp: DwHpView;\r\n  dwSavesList: DwSaveEntry[];\r\n};\r\n"]}