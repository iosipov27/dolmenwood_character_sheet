{"version":3,"file":"registerAddSkillListener.js","sourceRoot":"","sources":["../../src/listeners/registerAddSkillListener.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,cAAc,EAAE,MAAM,4BAA4B,CAAC;AAC5D,OAAO,EAAE,YAAY,EAAE,MAAM,oCAAoC,CAAC;AAGlE,MAAM,UAAU,wBAAwB,CACtC,IAAc,EACd,EACE,UAAU,EACV,UAAU,EACV,WAAW,EACkE;IAE/E,cAAc,CAAC,IAAI,EAAE,YAAY,EAAE,KAAK,IAAI,EAAE;QAC5C,MAAM,EAAE,GAAG,UAAU,EAAE,CAAC;QAExB,EAAE,CAAC,WAAW,GAAG,KAAK,CAAC,OAAO,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC;QAErE,IAAI,EAAE,CAAC,WAAW,CAAC,MAAM,IAAI,EAAE;YAAE,OAAO;QAExC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,CAAC;QAC7C,MAAM,UAAU,CAAC,EAAE,CAAC,CAAC;QACrB,WAAW,EAAE,CAAC;IAChB,CAAC,CAAC,CAAC;AACL,CAAC","sourcesContent":["import { registerAction } from \"../utils/registerAction.js\";\r\nimport { DW_ADD_SKILL } from \"../constants/templateAttributes.js\";\r\nimport type { GetDwFlags, HtmlRoot, RenderSheet, SetDwFlags } from \"../types.js\";\r\n\r\nexport function registerAddSkillListener(\r\n  html: HtmlRoot,\r\n  {\r\n    getDwFlags,\r\n    setDwFlags,\r\n    renderSheet\r\n  }: { getDwFlags: GetDwFlags; setDwFlags: SetDwFlags; renderSheet: RenderSheet }\r\n): void {\r\n  registerAction(html, DW_ADD_SKILL, async () => {\r\n    const dw = getDwFlags();\r\n\r\n    dw.extraSkills = Array.isArray(dw.extraSkills) ? dw.extraSkills : [];\r\n\r\n    if (dw.extraSkills.length >= 10) return;\r\n\r\n    dw.extraSkills.push({ name: \"\", target: 0 });\r\n    await setDwFlags(dw);\r\n    renderSheet();\r\n  });\r\n}\r\n"]}